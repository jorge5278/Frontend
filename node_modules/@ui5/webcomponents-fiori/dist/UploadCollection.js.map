{"version":3,"file":"UploadCollection.js","sourceRoot":"","sources":["../src/UploadCollection.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event-strict.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport i18n from \"@ui5/webcomponents-base/dist/decorators/i18n.js\";\nimport jsxRenderer from \"@ui5/webcomponents-base/dist/renderer/JsxRenderer.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport type { ListSelectionChangeEventDetail } from \"@ui5/webcomponents/dist/List.js\";\nimport \"./illustrations/Tent.js\";\nimport type UploadCollectionItem from \"./UploadCollectionItem.js\";\nimport \"@ui5/webcomponents-icons/dist/document.js\";\nimport {\n\tUPLOADCOLLECTION_NO_DATA_TEXT,\n\tUPLOADCOLLECTION_NO_DATA_DESCRIPTION,\n\tUPLOADCOLLECTION_DRAG_FILE_INDICATOR,\n\tUPLOADCOLLECTION_DROP_FILE_INDICATOR,\n\tUPLOADCOLLECTION_ARIA_ROLE_DESCRIPTION,\n} from \"./generated/i18n/i18n-defaults.js\";\nimport {\n\tattachBodyDnDHandler,\n\tdetachBodyDnDHandler,\n\tdraggingFiles,\n} from \"./upload-utils/UploadCollectionBodyDnD.js\";\nimport type { DnDEventListener, DnDEventListenerParam } from \"./upload-utils/UploadCollectionBodyDnD.js\";\nimport UploadCollectionDnDOverlayMode from \"./types/UploadCollectionDnDMode.js\";\nimport type UploadCollectionSelectionMode from \"./types/UploadCollectionSelectionMode.js\";\n\n// Template\nimport UploadCollectionTemplate from \"./UploadCollectionTemplate.js\";\n\n// Styles\nimport UploadCollectionCss from \"./generated/themes/UploadCollection.css.js\";\n\ntype UploadCollectionSelectionChangeEventDetail = {\n\tselectedItems: Array<UploadCollectionItem>,\n};\n\ntype UploadCollectionItemDeleteEventDetail = {\n\titem: UploadCollectionItem,\n};\n\n/**\n * @class\n *\n * ### Overview\n * This component allows you to represent files before uploading them to a server, with the help of `ui5-upload-collection-item`.\n * It also allows you to show already uploaded files.\n *\n * ### ES6 Module Import\n * `import \"@ui5/webcomponents-fiori/dist/UploadCollection.js\";`\n *\n * `import \"@ui5/webcomponents-fiori/dist/UploadCollectionItem.js\";` (for `ui5-upload-collection-item`)\n * @constructor\n * @extends UI5Element\n * @public\n * @since 1.0.0-rc.7\n */\n@customElement({\n\ttag: \"ui5-upload-collection\",\n\tlanguageAware: true,\n\trenderer: jsxRenderer,\n\tstyles: UploadCollectionCss,\n\ttemplate: UploadCollectionTemplate,\n})\n/**\n * Fired when an element is dropped inside the drag and drop overlay.\n *\n * **Note:** The `drop` event is fired only when elements are dropped within the drag and drop overlay and ignored for the other parts of the `ui5-upload-collection`.\n * @param {DataTransfer} dataTransfer The `drop` event operation data.\n * @public\n * @native\n */\n// @event(\"drop\", {\n// \tbubbles: true,\n// })\n\n/**\n * Fired when the delete button of any item is pressed.\n * @param {HTMLElement} item The `ui5-upload-collection-item` which was deleted.\n * @public\n */\n@event(\"item-delete\", {\n\tbubbles: true,\n})\n\n/**\n * Fired when selection is changed by user interaction\n * in `Single` and `Multiple` modes.\n * @param {Array} selectedItems An array of the selected items.\n * @public\n */\n@event(\"selection-change\", {\n\tbubbles: true,\n})\nclass UploadCollection extends UI5Element {\n\teventDetails!: {\n\t\t\"item-delete\": UploadCollectionItemDeleteEventDetail,\n\t\t\"selection-change\": UploadCollectionSelectionChangeEventDetail,\n\t}\n\t/**\n\t * Defines the selection mode of the `ui5-upload-collection`.\n\t *\n\t * @default \"None\"\n\t * @public\n\t */\n\t@property()\n\tselectionMode: `${UploadCollectionSelectionMode}` = \"None\";\n\n\t/**\n\t * Allows you to set your own text for the 'No data' description.\n\t * @default undefined\n\t * @public\n\t */\n\t@property()\n\tnoDataDescription?: string;\n\n\t/**\n\t * Allows you to set your own text for the 'No data' text.\n\t * @default undefined\n\t * @public\n\t */\n\t@property()\n\tnoDataText?: string;\n\n\t/**\n\t * By default there will be drag and drop overlay shown over the `ui5-upload-collection` when files\n\t * are dragged. If you don't intend to use drag and drop, set this property.\n\t *\n\t * **Note:** It is up to the application developer to add handler for `drop` event and handle it.\n\t * `ui5-upload-collection` only displays an overlay.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideDragOverlay = false;\n\n\t/**\n\t * Defines the accessible ARIA name of the component.\n\t * @default undefined\n\t * @public\n\t * @since 1.0.0-rc.16\n\t */\n\t @property()\n\t accessibleName?: string;\n\n\t/**\n\t * Indicates what overlay to show when files are being dragged.\n\t * @default \"None\"\n\t * @private\n\t */\n\t@property()\n\t_dndOverlayMode: `${UploadCollectionDnDOverlayMode}` = \"None\";\n\n\t/**\n\t * Defines the items of the `ui5-upload-collection`.\n\t *\n\t * **Note:** Use `ui5-upload-collection-item` for the intended design.\n\t * @public\n\t */\n\t@slot({ type: HTMLElement, \"default\": true })\n\titems!: Array<UploadCollectionItem>;\n\n\t/**\n\t * Defines the `ui5-upload-collection` header.\n\t *\n\t * **Note:** If `header` slot is provided,\n\t * the labelling of the `UploadCollection` is a responsibility of the application developer.\n\t * `accessibleName` should be used.\n\t * @public\n\t */\n\t@slot({ type: HTMLElement })\n\theader!: Array<HTMLElement>;\n\n\t_bodyDnDHandler: DnDEventListener;\n\n\t@i18n(\"@ui5/webcomponents-fiori\")\n\tstatic i18nBundle: I18nBundle;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._bodyDnDHandler = this.bodyDnDHandler.bind(this);\n\t}\n\n\tbodyDnDHandler(e: DnDEventListenerParam) {\n\t\tif (this._dndOverlayMode !== UploadCollectionDnDOverlayMode.Drop) {\n\t\t\tthis._dndOverlayMode = e.mode;\n\t\t}\n\t}\n\n\tonEnterDOM() {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tattachBodyDnDHandler(this._bodyDnDHandler);\n\t}\n\n\tonExitDOM() {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tdetachBodyDnDHandler(this._bodyDnDHandler);\n\t}\n\n\t_ondragenter(e: DragEvent) {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!draggingFiles(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dndOverlayMode = UploadCollectionDnDOverlayMode.Drop;\n\t}\n\n\t_ondrop(e: DragEvent) {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.target !== this.shadowRoot!.querySelector(\".uc-dnd-overlay\")) {\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\tthis._dndOverlayMode = UploadCollectionDnDOverlayMode.None;\n\t}\n\n\t_ondragover(e: DragEvent) {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n\t}\n\n\t_ondragleave() {\n\t\tif (this.hideDragOverlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._dndOverlayMode = UploadCollectionDnDOverlayMode.Drag;\n\t}\n\n\t_onItemDelete(e: CustomEvent) {\n\t\tthis.fireDecoratorEvent(\"item-delete\", { item: e.target as UploadCollectionItem });\n\t}\n\n\t_onSelectionChange(e: CustomEvent<ListSelectionChangeEventDetail>) {\n\t\tthis.fireDecoratorEvent(\"selection-change\", { selectedItems: e.detail.selectedItems as UploadCollectionItem[] });\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tcontent: {\n\t\t\t\t\"ui5-uc-content\": true,\n\t\t\t\t\"ui5-uc-content-no-data\": this.items.length === 0,\n\t\t\t},\n\t\t};\n\t}\n\n\tget _root() {\n\t\treturn this.shadowRoot!.querySelector(\".ui5-uc-root\");\n\t}\n\n\tget _dndOverlay() {\n\t\treturn this._root?.querySelector(\".uc-dnd-overlay\");\n\t}\n\n\tget _showDndOverlay() {\n\t\treturn this._dndOverlayMode !== UploadCollectionDnDOverlayMode.None;\n\t}\n\n\tget _showNoData() {\n\t\treturn this.items.length === 0;\n\t}\n\n\tget _noDataText() {\n\t\treturn this.noDataText || UploadCollection.i18nBundle.getText(UPLOADCOLLECTION_NO_DATA_TEXT);\n\t}\n\n\tget _noDataDescription() {\n\t\treturn this.noDataDescription || UploadCollection.i18nBundle.getText(UPLOADCOLLECTION_NO_DATA_DESCRIPTION);\n\t}\n\n\tget _roleDescription() {\n\t\treturn UploadCollection.i18nBundle.getText(UPLOADCOLLECTION_ARIA_ROLE_DESCRIPTION);\n\t}\n\n\tget _dndOverlayText() {\n\t\tif (this._dndOverlayMode === UploadCollectionDnDOverlayMode.Drag) {\n\t\t\treturn UploadCollection.i18nBundle.getText(UPLOADCOLLECTION_DRAG_FILE_INDICATOR);\n\t\t}\n\n\t\treturn UploadCollection.i18nBundle.getText(UPLOADCOLLECTION_DROP_FILE_INDICATOR);\n\t}\n}\n\nUploadCollection.define();\n\nexport default UploadCollection;\nexport type {\n\tUploadCollectionItemDeleteEventDetail,\n\tUploadCollectionSelectionChangeEventDetail,\n};\n"]}